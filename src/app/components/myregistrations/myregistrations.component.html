<div class="spinner-container" *ngIf="loading">
    <app-spinner></app-spinner>
</div>

<div *ngIf="dataLoaded()">
    <div class="container">
        <div class="page-header">
            <h1 [appTranslate]="'MyRegistrations'">My registrations</h1>
        </div>
    </div>
    <div class="separator"></div>

    <div class="container" *ngIf="errorMessage">
        <app-errormessage [translatedErrorMessage]="'CancelRegistrationError'" [serverErrorMessage]="errorMessage"></app-errormessage>
    </div>

    <div class="container" *ngIf="!registrations || registrations.length == 0">
        <div class="myRegistrations"><span [appTranslate]="'NoRegistrationsFound'">No registrations found</span></div>
    </div>
    
    <div class="container" *ngIf="registrations && registrations.length > 0">
        <table class="table table-striped table-hover table-light">
            <thead class="thead-light">
                <tr>
                    <th [appTranslate]="'Name'">Name</th>
                    <th [appTranslate]="'Event'">Event</th>
                    <th [appTranslate]="'Pass'">Pass</th>
                    <th [appTranslate]="'RegisteredSince'">Registered since</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let registration of registrations">
                    <td>
                        {{ registration.contact }}({{ registration.email }})
                    </td>
                    <td>
                        {{ registration.event }}
                    </td>
                    <td>
                        {{ registration.pass }}
                    </td>
                    <td>
                        {{ registration.createdon | date:'medium' }}
                    </td>
                    <td>
                        <button type="button" (click)="cancelRegistration(registration.id)" class="btn btn-danger" [appTranslate]="'Cancel'">Cancel</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>